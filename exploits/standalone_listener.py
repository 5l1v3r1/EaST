from Sploit import Sploit

INFO={}
INFO["NAME"]="standalone_listener"
INFO["DESCRIPTION"]="Empty module which used only for run listener"
INFO["VENDOR"]=""
INFO["CVE Name"]=""
INFO["NOTES"]="""
"""
INFO["CHANGELOG"]="01 April, 2016"
INFO["PATH"] = "Utilities/"

# Must be in every module, to be set by framework
OPTIONS = {}

class exploit(Sploit):
    def __init__(self, host = "", port = 0, logger = None):
        Sploit.__init__(self, logger = logger)
        self.name = INFO['NAME']
        self.host = host
        self.port = port
        self.listener_port = None
        return

    def args(self):
        self.args = Sploit.args(self, OPTIONS)
        if self.args['listener']:
            self.listener_port = self.args['listener']['PORT']
        else:
            self.log("[-] Please enable listener in module options dialog")
            self.finish(False)

    def run(self):
        self.args()
        self.log("[+] Listener is listen on port: %d" % self.listener_port)
        self.finish(True)

if __name__ == '__main__':
    """
        By now we only have the tool mode for exploit..
        Later we would have standalone mode also.
    """
    print "Running exploit %s .. " % INFO['NAME']
    e = exploit('', 80)
    e.run()